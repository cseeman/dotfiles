###############################################################################
# Gruvbox Light - High Contrast Warm Light Theme
###############################################################################

# Base colors - Gruvbox Light (warm neutral backgrounds)
base="#f8f4ee"         # Main background (warm off-white)
mantle="#efe9e1"       # Slightly darker bg
crust="#e5ded5"        # Darker bg element
surface0="#d5cdc3"     # Surface
surface1="#bdae93"     # Surface highlight
surface2="#a89984"     # Surface bright (gray)

# Text colors (dark on light background)
text="#3c3836"         # Main text (near-black brown)
subtext1="#504945"     # Slightly lighter
subtext0="#665c54"     # Muted text
overlay2="#7c6f64"     # Dim text
overlay1="#928374"     # Gray
overlay0="#a89984"     # Lightest text

# Accent colors - Gruvbox Light (using darker variants for contrast)
red="#9d0006"          # Dark red
green="#79740e"        # Dark green
yellow="#b57614"       # Dark yellow
blue="#076678"         # Dark blue
purple="#8f3f71"       # Dark purple
aqua="#427b58"         # Dark aqua
orange="#af3a03"       # Dark orange
accent="#076678"       # Primary accent (blue)

# Mode indicator configuration
set -g @mode_indicator_prefix_prompt " WAIT "
set -g @mode_indicator_prefix_mode_style "bg=$yellow,fg=$base,bold"
set -g @mode_indicator_copy_prompt " COPY "
set -g @mode_indicator_copy_mode_style "bg=$blue,fg=$base,bold"
set -g @mode_indicator_sync_prompt " SYNC "
set -g @mode_indicator_sync_mode_style "bg=$red,fg=$base,bold"
set -g @mode_indicator_empty_prompt " TMUX "
set -g @mode_indicator_empty_mode_style "bg=$surface0,fg=$accent,bold"

# Online status with custom icons
set -g @route_to_ping "1.1.1.1"
set -g @online_icon "#[fg=$green]󰖩 "
set -g @offline_icon "#[fg=$red]󰖪 "

# Status bar configuration
set -g status on
set -g status-justify left
set -g status-position bottom
set -g status-left-length 120
set -g status-right-length 120
set -g status-style "bg=$crust,fg=$text"

# Window styles - high contrast: active is brightest, inactive noticeably dimmed
set -g window-style "fg=$overlay2,bg=$crust"
set -g window-active-style "fg=$text,bg=$base"

# Pane borders
set -g pane-border-style "fg=$surface1"
set -g pane-active-border-style "fg=$accent,bold"
set -g pane-border-lines heavy
set -g pane-border-indicators both
set -g pane-border-status top
set -g pane-border-format " #[fg=$accent,bold]#{?pane_active,󰄯 ,󰄰 }#[fg=#{?pane_active,$text,$subtext0},bold]#P: #{pane_title} "

# Pane highlighting
set -g display-panes-colour "$overlay1"
set -g display-panes-active-colour "$accent"
set -g display-panes-time 2000

# Message and command styling
set -g message-style "bg=$accent,fg=$base,bold"
set -g message-command-style "bg=$surface1,fg=$blue"

# Window status separator
setw -g window-status-separator ""

#################################### STATUS BAR FORMAT ####################################

# Left side: Mode + Session
set -g status-left "#{tmux_mode_indicator}#[bg=$surface0,fg=$accent,bold] 󰄛 #S #[bg=$crust,fg=$surface0]"

# Right side: Online status + Time + Date
set -g status-right "#[fg=$surface0,bg=$crust]#[fg=$text,bg=$surface0]#{online_status}#[fg=$surface1,bg=$surface0]#[fg=$yellow,bg=$surface1] 󰥔 %H:%M #[fg=$surface2,bg=$surface1]#[fg=$blue,bg=$surface2]  %a %d %b #[fg=$crust,bg=$surface2]"

# Window status formats
setw -g window-status-format "#[fg=$crust,bg=$surface0]#[fg=$overlay2,bg=$surface0] #I  #W #[fg=$surface0,bg=$crust]"
setw -g window-status-current-format "#[fg=$crust,bg=$accent]#[fg=$base,bg=$accent,bold] #I  #W #[fg=$accent,bg=$crust]"

# Activity and bell notifications
setw -g monitor-activity on
set -g visual-activity off
setw -g window-status-activity-style "fg=$orange,bg=$surface0,bold"
setw -g window-status-bell-style "fg=$red,bg=$surface0,bold,blink"

# Selection colors
set -g mode-style "bg=$surface1,fg=$text"

# Clock mode
set -g clock-mode-colour "$accent"
set -g clock-mode-style 24

# Copy mode highlighting
set -g copy-mode-match-style "bg=$yellow,fg=$base"
set -g copy-mode-current-match-style "bg=$orange,fg=$base,bold"
set -g copy-mode-mark-style "bg=$purple,fg=$base"

#################################### ENHANCED FEATURES ####################################

# Popup styling (tmux 3.2+)
set -g popup-style "bg=$base,fg=$text"
set -g popup-border-style "fg=$accent"
set -g popup-border-lines "rounded"

# Menu styling (tmux 3.0+)
set -g menu-style "bg=$mantle,fg=$text"
set -g menu-selected-style "bg=$accent,fg=$base"
set -g menu-border-style "fg=$accent"

# True color support
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# Custom aliases for convenience
set -g command-alias[0] p='display-popup -E -w 80% -h 80%'
set -g command-alias[1] h='split-window -h'
set -g command-alias[2] v='split-window -v'
set -g command-alias[3] reload='source-file ~/.config/tmux/tmux.conf \; display-message "Config reloaded!"'
