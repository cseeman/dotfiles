###############################################################################
# Rose Pine Dawn - Warm Light Theme
###############################################################################

# Base colors - Rose Pine Dawn
base="#FAF4ED"         # Main background
mantle="#FFFAF3"       # Lighter surface
crust="#F2E9E1"        # Overlay / selection bg
surface0="#F2E9DE"     # Surface
surface1="#EADDD4"     # Surface highlight
surface2="#DFDAD5"     # Surface bright

# Text colors
text="#575279"         # Main text (purple-grey)
subtext1="#6E6A86"     # Muted
subtext0="#797593"     # Subtle
overlay2="#908CAA"     # Overlay
overlay1="#9893A5"     # Dim overlay
overlay0="#B4B0C6"     # Lightest overlay

# Accent colors
love="#B4637A"         # Rose red (errors, deletions)
gold="#EA9D34"         # Gold (warnings, strings)
rose="#D7827E"         # Warm rose (booleans)
pine="#286983"         # Deep teal (functions, additions)
foam="#56949F"         # Blue-teal (keys, info)
iris="#907AA9"         # Iris purple (params, links)
accent="#907AA9"       # Primary accent (iris)

# Mode indicator configuration
set -g @mode_indicator_prefix_prompt " WAIT "
set -g @mode_indicator_prefix_mode_style "bg=$gold,fg=$base,bold"
set -g @mode_indicator_copy_prompt " COPY "
set -g @mode_indicator_copy_mode_style "bg=$foam,fg=$base,bold"
set -g @mode_indicator_sync_prompt " SYNC "
set -g @mode_indicator_sync_mode_style "bg=$love,fg=$base,bold"
set -g @mode_indicator_empty_prompt " TMUX "
set -g @mode_indicator_empty_mode_style "bg=$surface2,fg=$iris,bold"

# Online status with custom icons
set -g @route_to_ping "1.1.1.1"
set -g @online_icon "#[fg=$pine]󰖩 "
set -g @offline_icon "#[fg=$love]󰖪 "

# Status bar configuration
set -g status on
set -g status-justify left
set -g status-position bottom
set -g status-left-length 120
set -g status-right-length 120
set -g status-style "bg=$surface1,fg=$text"

# Window styles - light theme: active is brightest, inactive noticeably dimmed
set -g window-style "fg=$overlay1,bg=$surface2"
set -g window-active-style "fg=$text,bg=$base"

# Pane borders
set -g pane-border-style "fg=$surface2"
set -g pane-active-border-style "fg=$iris,bold"
set -g pane-border-lines heavy
set -g pane-border-indicators both
set -g pane-border-status top
set -g pane-border-format " #[fg=$iris,bold]#{?pane_active,󰄯 ,󰄰 }#[fg=#{?pane_active,$text,$subtext1},bold]#P: #{pane_title} "

# Pane highlighting
set -g display-panes-colour "$overlay0"
set -g display-panes-active-colour "$iris"
set -g display-panes-time 2000

# Message and command styling
set -g message-style "bg=$iris,fg=$base,bold"
set -g message-command-style "bg=$surface2,fg=$foam"

# Window status separator
setw -g window-status-separator ""

#################################### STATUS BAR FORMAT ####################################

# Left side: Mode + Session
set -g status-left "#{tmux_mode_indicator}#[bg=$surface2,fg=$iris,bold] 󰄛 #S #[bg=$surface1,fg=$surface2]"

# Right side: Online status + Time + Date
set -g status-right "#[fg=$surface2,bg=$surface1]#[fg=$text,bg=$surface2]#{online_status}#[fg=$crust,bg=$surface2]#[fg=$gold,bg=$crust] 󰥔 %H:%M #[fg=$surface0,bg=$crust]#[fg=$foam,bg=$surface0]  %a %d %b #[fg=$surface1,bg=$surface0]"

# Window status formats
setw -g window-status-format "#[fg=$surface1,bg=$surface2]#[fg=$subtext0,bg=$surface2] #I  #W #[fg=$surface2,bg=$surface1]"
setw -g window-status-current-format "#[fg=$surface1,bg=$iris]#[fg=$base,bg=$iris,bold] #I  #W #[fg=$iris,bg=$surface1]"

# Activity and bell notifications
setw -g monitor-activity on
set -g visual-activity off
setw -g window-status-activity-style "fg=$gold,bg=$surface2,bold"
setw -g window-status-bell-style "fg=$love,bg=$surface2,bold,blink"

# Selection colors
set -g mode-style "bg=$surface2,fg=$text"

# Clock mode
set -g clock-mode-colour "$iris"
set -g clock-mode-style 24

# Copy mode highlighting
set -g copy-mode-match-style "bg=$gold,fg=$base"
set -g copy-mode-current-match-style "bg=$love,fg=$base,bold"
set -g copy-mode-mark-style "bg=$iris,fg=$base"

#################################### ENHANCED FEATURES ####################################

# Popup styling (tmux 3.2+)
set -g popup-style "bg=$base,fg=$text"
set -g popup-border-style "fg=$iris"
set -g popup-border-lines "rounded"

# Menu styling (tmux 3.0+)
set -g menu-style "bg=$surface0,fg=$text"
set -g menu-selected-style "bg=$iris,fg=$base"
set -g menu-border-style "fg=$iris"

# True color support
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# Custom aliases for convenience
set -g command-alias[0] p='display-popup -E -w 80% -h 80%'
set -g command-alias[1] h='split-window -h'
set -g command-alias[2] v='split-window -v'
set -g command-alias[3] reload='source-file ~/.config/tmux/tmux.conf \; display-message "Config reloaded!"'
